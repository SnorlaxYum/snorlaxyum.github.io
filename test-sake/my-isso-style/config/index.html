<!DOCTYPE html>
<html lang="en">

<head>	<title>My Isso Configuration - Simputer</title>
	<meta charset=utf-8><link rel=canonical href=https://test.snorl.ax/my-isso-style/config/>	<link href="https://test.snorl.ax/theme/css/style.css" rel=stylesheet><link href="https://test.snorl.ax/theme/css/inside.css"rel=stylesheet>
	<link href="https://test.snorl.ax/theme/images/icon.png" rel=icon>
	<link href="https://test.snorl.ax/theme/images/icon-apple.png" rel=apple-touch-icon-precomposed>	<link href="https://test.snorl.ax/feeds/all.rss" rel=alternate title="Simputer RSS Feed" type=application/rss+xml>	<meta content="width=device-width" name=viewport></head>

<body>
		<div id=a>
			<header id=c>
				<div id=d>
					<h1 id=e><a href="https://test.snorl.ax/">Simputer</a></h1>
				</div>
			</header>
			<div id=f>
				<nav id=h>
						<ul>							<li>
								<a href=https://test.snorl.ax/>Home</a>
									</li>									<li>
										<a href="https://test.snorl.ax/browser/" >Browser</a>
									</li>									<li>
										<a href="https://test.snorl.ax/terminal/" >Terminal</a>
									</li></ul>
				</nav>
				<aside id=j>
					<form action="https://test.snorl.ax/search.html" onsubmit="return validateForm(this.elements['q'].value);">
						<input placeholder="Search..."name=q id=tipue_search_input>
					</form>
				</aside></div>
		</div>
		<div id=b>
				<main id=k> 
<article id=m>
<header id="o"><h2 id="p">My Isso Configuration</h2></header>
<div id=n><table>
<tr><td><b>My Isso Style</b></td></tr>
<tr><td>1. <a href="/my-isso-style/installation/">Installation</a></td></tr>
<tr><td style="color:#000; background: #aaa">2. Configuration</td></tr>
<tr><td>3. <a href="/my-isso-style/sql/">Inside the Database</a></td></tr>
</table>

<h2>Server Configuration</h2>
<div class="highlight"><pre><span class="code-line"><span></span><span class="k">[general]</span></span>
<span class="code-line"><span class="na">dbpath</span> <span class="o">=</span> <span class="s">/var/lib/isso/comments.db</span></span>
<span class="code-line"><span class="na">host</span> <span class="o">=</span> <span class="s">https://snorl.ax</span></span>
<span class="code-line"><span class="na">notify</span> <span class="o">=</span> <span class="s">smtp</span></span>
<span class="code-line"><span class="na">log-file</span> <span class="o">=</span> <span class="s">/var/lib/isso/snorl.ax.log</span></span>
<span class="code-line"><span class="na">gravatar</span> <span class="o">=</span> <span class="s">true</span></span>
<span class="code-line"><span class="na">gravatar-url</span> <span class="o">=</span> <span class="s">https://www.gravatar.com/avatar/{}?d=https%%3A%%2F%%2Fstatic.snorl.ax%%2Ftheme%%2Fimages%%2Ficon_anonymous.png</span></span>
<span class="code-line"><span class="na">reply-notifications</span><span class="o">=</span><span class="s">true</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">[server]</span></span>
<span class="code-line"><span class="na">listen</span> <span class="o">=</span> <span class="s">http://localhost:8001/</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">[moderation]</span></span>
<span class="code-line"><span class="na">enabled</span> <span class="o">=</span> <span class="s">true</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">[guard]</span></span>
<span class="code-line"><span class="na">enabled</span> <span class="o">=</span> <span class="s">true</span></span>
<span class="code-line"><span class="na">ratelimit</span> <span class="o">=</span> <span class="s">1</span></span>
<span class="code-line"><span class="na">direct-reply</span> <span class="o">=</span> <span class="s">3</span></span>
<span class="code-line"><span class="na">reply-to-self</span> <span class="o">=</span> <span class="s">true</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">[smtp]</span></span>
<span class="code-line"><span class="na">host</span> <span class="o">=</span> <span class="s">localhost</span></span>
<span class="code-line"><span class="na">port</span> <span class="o">=</span> <span class="s">25</span></span>
<span class="code-line"><span class="na">security</span> <span class="o">=</span> <span class="s">none</span></span>
<span class="code-line"><span class="na">to</span> <span class="o">=</span> <span class="s">sim@snorl.ax</span></span>
<span class="code-line"><span class="na">from</span> <span class="o">=</span> <span class="s">&quot;Simputer&quot; &amp;lt;admin@snorl.ax&amp;gt;</span></span>
<span class="code-line"><span class="na">timeout</span> <span class="o">=</span> <span class="s">10</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">[admin]</span></span>
<span class="code-line"><span class="na">enabled</span> <span class="o">=</span> <span class="s">false</span></span>
</pre></div>


<p>For other options I haven't set u could check <a href="https://posativ.org/isso/docs/configuration/server/" target="_blank">the official documentation</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>.  </p>
<ol>
<li>
<p>In <code>[general]</code>:  </p>
<ul>
<li><code>dbpath</code> is the path of the sqlite database file where I store the data.  </li>
<li>
<p><code>host</code> is the url where I want the isso to be shown, for isso to be shown in both http and https version, it should be set as:  </p>
<div class="highlight"><pre><span class="code-line"><span></span>host =</span>
<span class="code-line">    http://snorl.ax</span>
<span class="code-line">    https://snorl.ax</span>
</pre></div>


</li>
<li>
<p><code>notify</code> is the notification backend for new comments, I set <code>notify = smtp</code> so I'll receive a new email when a new comment is successfully submitted to the server, it also make the reply notification possible.  </p>
</li>
<li><code>log-file</code> is the path of log showing the status of the isso.</li>
<li><code>gravatar = true</code> enables the use of gravatar.  </li>
<li>
<p><code>gravatar-url</code> defines url for gravatar images. The “{}” is where the email hash will be placed. The value after <code>d=</code> defines the defalut image  to show if there is no image associated with the requested email hash. If you choose not to set this option, isso will automatically set the value to identicon, which is a geometric pattern based on an email hash.<br>
To set my own default image for the situation, I need to urlencode the url for that image. Now for me <code>https://static.snorl.ax/theme/images/icon_anonymous.png</code> is the url, so I do it with python<sup id="fnref:2"><a class="footnote-ref" href="#fn:2" rel="footnote">2</a></sup>:  </p>
<div class="highlight"><pre><span class="code-line"><span></span>$ python</span>
</pre></div>


<p>Import the required library for it and do it:  </p>
<p><div class=highlight><pre><span class="code-line">&gt;&gt;&gt; import urllib.parse</span>
<span class="code-line">&gt;&gt;&gt; the = urllib.parse.quote_plus('https://static.snorl.ax/theme/images/icon_anonymous.png')</span>
<span class="code-line">&gt;&gt;&gt; the.replace('%','%%')</pre></div></p>
<p>Then it'll return the required url-encoded string:  </p>
<div class="highlight"><pre><span class="code-line"><span></span>&#39;https%%3A%%2F%%2Fstatic.snorl.ax%%2Ftheme%%2Fimages%%2Ficon_anonymous.png&#39;</span>
</pre></div>


<p>Now I can set <code>gravatar-url = https://www.gravatar.com/avatar/{}?d=https%%3A%%2F%%2Fstatic.snorl.ax%%2Ftheme%%2Fimages%%2Ficon_anonymous.png</code> to see it working. Normally we don't need to replace <code>%</code> with <code>%%</code>, however in isso if I don't do so, the following error will happen:  </p>
<div class="highlight"><pre><span class="code-line"><span></span>InterpolationSyntaxError: &#39;%&#39; must be followed by &#39;%&#39; or &#39;(&#39;, found: u&#39;%3A%2F%2Fstatic.snorl.ax%2Ftheme%2Fimages%2Ficon_anonymous.png&#39;</span>
</pre></div>


<p>To know more about how to tango with Gravatar, see <a href="https://en.gravatar.com/site/implement/images/" target="_blank">the documentation</a>.  </p>
</li>
<li>
<p><code>reply-notification=true</code> enables email notifications of replies to the commenters who have previously subcribed to email notification of replies.  </p>
</li>
</ul>
</li>
<li>
<p>In <code>[server]</code>:</p>
<ul>
<li><code>listen</code> sets the interface for isso to listen on.  </li>
</ul>
</li>
<li>
<p>In <code>[moderation]</code>:  </p>
<ul>
<li><code>enabled</code> enables comment moderation queue and only affects new comments. Comments in moderation queue are not visible to other users until I activate them.  </li>
</ul>
</li>
<li>
<p>In <code>[guard]</code>:  </p>
<ul>
<li><code>enabled</code> enable guard, for the rest of the section to take into effect.  </li>
<li><code>ratelimit</code> is the number of comments each IP address can send in a thread per minute.  </li>
<li><code>direct-reply</code> is the number of comments a thread can receive per minute.  </li>
<li><code>replt-to-self</code> allows a commenter to reply to his own comment. </li>
</ul>
</li>
<li>
<p>In <code>[smtp]</code>:  </p>
<ul>
<li><code>host</code>, <code>port</code>, <code>security</code>: the SMTP server, port and security used when a notification is sent through email. Since the isso is located in the same server as my email, the configuration works without <code>password</code>. If u want to set email service on ur server and haven't got a clue, u could check out <a href="https://test.snorl.ax/terminal/2018/12/27/running-email-service-on-my-own-server/">my post</a>.  </li>
<li><code>from</code>: The sender address of the email notification.  </li>
<li><code>to</code>: The receiver address of the email notification for every new comments(with their moderation address if moderation is enabled).  </li>
<li><code>timeout</code>: Specify a timeout in seconds for blocking operations like the connection attempt.  </li>
</ul>
</li>
<li>
<p>In <code>[admin]</code>:</p>
<ul>
<li><code>enabled=false</code> disable the administration page in <code>https://isso.snorl.ax/admin/</code>. No need to open an admin page for that while u could <a href="https://test.snorl.ax/my-isso-style/sql/">look into the sqlite urself</a>.  </li>
</ul>
</li>
</ol>
<h2>Client Configuration</h2>
<p>This is the configuration I use on my site:  </p>
<div class="highlight"><pre><span class="code-line">&lt;section id=comments data-title="{{ title }}" data-isso-id="/the/path/to/the/page/"&gt;</span>
<span class="code-line"></span>
<span class="code-line">&lt;script data-isso=https://isso.snorl.ax/ data-isso-gravatar=true data-isso-avatar=false data-isso-reply-notifications=true data-isso-reply-to-self=true data-isso-css=false src=https://static.snorl.ax/theme/js/embed.min.js data-isso-lang=en&gt;&lt;/script&gt;</pre></div>

<p>For other options I don't use, u can check <a href="https://posativ.org/isso/docs/configuration/client/" target="_blank">the official documention</a>.  </p>
<ol>
<li>The id of the section is <code>comments</code>, not <code>isso-thread</code>, 'cause I use the edited version of <code>embed.min.js</code>, where I replace all the occurences of <code>isso-thread</code> with <code>comments</code>. That's generally not a recommended practice. Each update of isso will get me busy replacing. So maybe one day I'll revert it back. The <code>data-title</code> parses the title to the database as the title of the thread, not working on the thread existing in the database. <code>data-isso-id</code> resolves the problem when the same page has several urls. (For example, a soft link on a directory can cause the result.)  </li>
<li>I set <code>data-isso</code> in the script tag 'cause the <code>src</code> is not the original path of the isso.  </li>
<li>To get Gravatar working on the site, <code>data-isso-gravatar=true data-isso-avatar=false</code> is a must.  </li>
<li>To enable the reply notifications on the site, <code>data-isso-reply-notifications=true</code> should be set.  </li>
<li><code>data-isso-reply-to-self=true</code> allows the commenter to reply to himself.  </li>
<li><code>data-isso-lang=en</code> set the language to English. So the language of the running isso on the site won't vary based on the very language the viewer is using.  </li>
<li>For my css style of isso to get into effect completely without being interfered, <code>data-isso-css=false</code> is a must.<br>
    Click <a href="https://static.snorl.ax/isso.css">here</a> to seethe css code inside the <code>embed.min.js</code> of the newest version of isso as of December 27, 2018. Before applying my own css style completely to the running isso, editing the style based on the original code is generally a recommended practice.  </li>
</ol>
<div class="footnote">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://posativ.org/isso/docs/" target="_blank">Isso Official Documentation</a>&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><a href="https://stackoverflow.com/a/28874886/9850945" target="_blank">Configparser and string with % - StackOverFlow</a>&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></div>
</article>
<article id=m>
<div id=n>
<section id="comments"data-title="My Isso Configuration"data-isso-id="/my-isso-style/config/">
</section>
</div>
</article>
</main>
		</div>
		<footer id=g>
			<div id=l>Simputer &#169; 2016 - 2019 (<a href="/archives/">Archives</a>) • Licensed under <a target="_blank" rel="license" href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a><br>Made using <a href="http://getpelican.com/" target="_blank">Pelican</a> • Design from <a href="https://wordpress.org/themes/twentyfifteen/" target="_blank">TwentyFifteen</a>
			</div>
		</footer>
<script data-isso="https://isso.snorl.ax/"data-isso-gravatar="true"data-isso-avatar="false"data-isso-reply-notifications="true"data-isso-reply-to-self="true"data-isso-css="false"src="https://test.snorl.ax/theme/js/embed.min.js"data-isso-lang=en></script>
